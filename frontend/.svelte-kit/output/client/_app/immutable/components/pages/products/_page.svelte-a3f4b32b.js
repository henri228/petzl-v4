import{S as ce,i as ne,s as de,k as l,q as d,a as h,w as It,l as r,m as o,r as f,h as a,c as u,x as Ht,n as e,b as ie,D as t,y as Pt,J as le,K as fe,f as Rt,t as Vt,z as Ot,L as pe,u as rt}from"../../../chunks/index-4391dc87.js";import{K as At}from"../../../chunks/KpiCard-1e422f82.js";function re(p,s,v){const m=p.slice();return m[6]=s[v],m[8]=v,m}function oe(p){let s,v,m=p[6].name+"",q,A,y,I=p[6].ean+"",H,b,_,E=p[6].nbRetailers+"",j,P,$,ot,R=p[6].priceMap.toFixed(2)+"",C,it,L,G,M=p[6].priceMin.toFixed(2)+"",st,Q,V,W,F=p[6].priceMax.toFixed(2)+"",B,N,O,c=(p[6].discountMax*100).toFixed(0)+"",K,ct,nt,k,et=(p[6].discountAvg*100).toFixed(0)+"",at,z,dt,X,D,ft,lt,J;return{c(){s=l("tr"),v=l("td"),q=d(m),A=h(),y=l("td"),H=d(I),b=h(),_=l("td"),j=d(E),P=h(),$=l("td"),ot=d("‚Ç¨¬†"),C=d(R),it=h(),L=l("td"),G=d("‚Ç¨¬†"),st=d(M),Q=h(),V=l("td"),W=d("‚Ç¨¬†"),B=d(F),N=h(),O=l("td"),K=d(c),ct=d("%"),nt=h(),k=l("td"),at=d(et),z=d("%"),dt=h(),X=l("td"),D=l("a"),ft=d("Details"),J=h(),this.h()},l(g){s=r(g,"TR",{});var i=o(s);v=r(i,"TD",{class:!0});var Z=o(v);q=f(Z,m),Z.forEach(a),A=u(i),y=r(i,"TD",{class:!0});var mt=o(y);H=f(mt,I),mt.forEach(a),b=u(i),_=r(i,"TD",{class:!0});var xt=o(_);j=f(xt,E),xt.forEach(a),P=u(i),$=r(i,"TD",{class:!0});var U=o($);ot=f(U,"‚Ç¨¬†"),C=f(U,R),U.forEach(a),it=u(i),L=r(i,"TD",{class:!0});var pt=o(L);G=f(pt,"‚Ç¨¬†"),st=f(pt,M),pt.forEach(a),Q=u(i),V=r(i,"TD",{class:!0});var ht=o(V);W=f(ht,"‚Ç¨¬†"),B=f(ht,F),ht.forEach(a),N=u(i),O=r(i,"TD",{class:!0});var Y=o(O);K=f(Y,c),ct=f(Y,"%"),Y.forEach(a),nt=u(i),k=r(i,"TD",{class:!0});var ut=o(k);at=f(ut,et),z=f(ut,"%"),ut.forEach(a),dt=u(i),X=r(i,"TD",{class:!0});var _t=o(X);D=r(_t,"A",{href:!0,class:!0});var tt=o(D);ft=f(tt,"Details"),tt.forEach(a),_t.forEach(a),J=u(i),i.forEach(a),this.h()},h(){e(v,"class","whitespace-nowrap px-3 py-4 text-sm text-gray-500"),e(y,"class","whitespace-nowrap px-3 py-4 text-sm text-gray-500"),e(_,"class","whitespace-nowrap px-3 py-4 text-sm text-gray-500"),e($,"class","whitespace-nowrap px-3 py-4 text-sm text-gray-500"),e(L,"class","whitespace-nowrap px-3 py-4 text-sm text-gray-500"),e(V,"class","whitespace-nowrap px-3 py-4 text-sm text-gray-500"),e(O,"class","whitespace-nowrap px-3 py-4 text-sm text-gray-500"),e(k,"class","whitespace-nowrap px-3 py-4 text-sm text-gray-500"),e(D,"href",lt="product/"+p[6].ean),e(D,"class","text-indigo-600"),e(X,"class","whitespace-nowrap px-3 py-4 text-sm text-gray-500")},m(g,i){ie(g,s,i),t(s,v),t(v,q),t(s,A),t(s,y),t(y,H),t(s,b),t(s,_),t(_,j),t(s,P),t(s,$),t($,ot),t($,C),t(s,it),t(s,L),t(L,G),t(L,st),t(s,Q),t(s,V),t(V,W),t(V,B),t(s,N),t(s,O),t(O,K),t(O,ct),t(s,nt),t(s,k),t(k,at),t(k,z),t(s,dt),t(s,X),t(X,D),t(D,ft),t(s,J)},p(g,i){i&2&&m!==(m=g[6].name+"")&&rt(q,m),i&2&&I!==(I=g[6].ean+"")&&rt(H,I),i&2&&E!==(E=g[6].nbRetailers+"")&&rt(j,E),i&2&&R!==(R=g[6].priceMap.toFixed(2)+"")&&rt(C,R),i&2&&M!==(M=g[6].priceMin.toFixed(2)+"")&&rt(st,M),i&2&&F!==(F=g[6].priceMax.toFixed(2)+"")&&rt(B,F),i&2&&c!==(c=(g[6].discountMax*100).toFixed(0)+"")&&rt(K,c),i&2&&et!==(et=(g[6].discountAvg*100).toFixed(0)+"")&&rt(at,et),i&2&&lt!==(lt="product/"+g[6].ean)&&e(D,"href",lt)},d(g){g&&a(s)}}}function he(p){let s,v,m,q,A,y,I,H,b,_,E,j,P,$,ot,R,C,it,L,G,M,st,Q,V,W,F,B,N,O,c,K,ct,nt,k,et,at,z,dt,X,D,ft,lt,J,g,i,Z,mt,xt,U,pt,ht,Y,ut,_t,tt,Tt,$t,vt,wt,Mt,Ft;H=new At({props:{title:"üõçÔ∏è Nb of Retailers",kpi:p[2].nbRetailers}}),E=new At({props:{title:"üì¶ Nb of Products",kpi:p[2].nbProducts}}),$=new At({props:{title:"üè∑Ô∏è Nb of Offers",kpi:p[2].nbOffers}});let gt=p[1],T=[];for(let n=0;n<gt.length;n+=1)T[n]=oe(re(p,gt,n));return{c(){s=l("main"),v=l("div"),m=l("h1"),q=d("Overview"),A=h(),y=l("div"),I=l("div"),It(H.$$.fragment),b=h(),_=l("div"),It(E.$$.fragment),j=h(),P=l("div"),It($.$$.fragment),ot=h(),R=l("div"),C=l("h1"),it=d("Products"),L=h(),G=l("div"),M=l("input"),st=h(),Q=l("div"),V=l("div"),W=l("div"),F=l("div"),B=l("div"),N=l("table"),O=l("thead"),c=l("tr"),K=l("th"),ct=d("Name"),nt=h(),k=l("th"),et=d("EAN"),at=h(),z=l("th"),dt=d("Resellers"),X=h(),D=l("th"),ft=d("Map"),lt=h(),J=l("th"),g=d("Min Price"),i=h(),Z=l("th"),mt=d("Max Price"),xt=h(),U=l("th"),pt=d("Max Discount"),ht=h(),Y=l("th"),ut=d("Avg Discount"),_t=h(),tt=l("th"),Tt=d("Details"),$t=h(),vt=l("tbody");for(let n=0;n<T.length;n+=1)T[n].c();this.h()},l(n){s=r(n,"MAIN",{class:!0});var S=o(s);v=r(S,"DIV",{class:!0});var x=o(v);m=r(x,"H1",{class:!0});var bt=o(m);q=f(bt,"Overview"),bt.forEach(a),A=u(x),y=r(x,"DIV",{class:!0});var yt=o(y);I=r(yt,"DIV",{class:!0});var Nt=o(I);Ht(H.$$.fragment,Nt),Nt.forEach(a),b=u(yt),_=r(yt,"DIV",{class:!0});var Kt=o(_);Ht(E.$$.fragment,Kt),Kt.forEach(a),j=u(yt),P=r(yt,"DIV",{class:!0});var St=o(P);Ht($.$$.fragment,St),St.forEach(a),yt.forEach(a),x.forEach(a),ot=u(S),R=r(S,"DIV",{class:!0});var Et=o(R);C=r(Et,"H1",{class:!0});var qt=o(C);it=f(qt,"Products"),qt.forEach(a),L=u(Et),G=r(Et,"DIV",{class:!0});var Ct=o(G);M=r(Ct,"INPUT",{type:!0,class:!0,placeholder:!0}),Ct.forEach(a),Et.forEach(a),st=u(S),Q=r(S,"DIV",{class:!0});var Lt=o(Q);V=r(Lt,"DIV",{class:!0});var Bt=o(V);W=r(Bt,"DIV",{class:!0});var zt=o(W);F=r(zt,"DIV",{class:!0});var Jt=o(F);B=r(Jt,"DIV",{class:!0});var Ut=o(B);N=r(Ut,"TABLE",{class:!0});var Dt=o(N);O=r(Dt,"THEAD",{class:!0});var Yt=o(O);c=r(Yt,"TR",{});var w=o(c);K=r(w,"TH",{scope:!0,class:!0});var jt=o(K);ct=f(jt,"Name"),jt.forEach(a),nt=u(w),k=r(w,"TH",{scope:!0,class:!0});var Gt=o(k);et=f(Gt,"EAN"),Gt.forEach(a),at=u(w),z=r(w,"TH",{scope:!0,class:!0});var Qt=o(z);dt=f(Qt,"Resellers"),Qt.forEach(a),X=u(w),D=r(w,"TH",{scope:!0,class:!0});var Wt=o(D);ft=f(Wt,"Map"),Wt.forEach(a),lt=u(w),J=r(w,"TH",{scope:!0,class:!0});var Xt=o(J);g=f(Xt,"Min Price"),Xt.forEach(a),i=u(w),Z=r(w,"TH",{scope:!0,class:!0});var Zt=o(Z);mt=f(Zt,"Max Price"),Zt.forEach(a),xt=u(w),U=r(w,"TH",{scope:!0,class:!0});var te=o(U);pt=f(te,"Max Discount"),te.forEach(a),ht=u(w),Y=r(w,"TH",{scope:!0,class:!0});var ee=o(Y);ut=f(ee,"Avg Discount"),ee.forEach(a),_t=u(w),tt=r(w,"TH",{scope:!0,class:!0});var se=o(tt);Tt=f(se,"Details"),se.forEach(a),w.forEach(a),Yt.forEach(a),$t=u(Dt),vt=r(Dt,"TBODY",{class:!0});var ae=o(vt);for(let kt=0;kt<T.length;kt+=1)T[kt].l(ae);ae.forEach(a),Dt.forEach(a),Ut.forEach(a),Jt.forEach(a),zt.forEach(a),Bt.forEach(a),Lt.forEach(a),S.forEach(a),this.h()},h(){e(m,"class","text-3xl font-bold"),e(I,"class","w-1/3 p-4"),e(_,"class","w-1/3 p-4"),e(P,"class","w-1/3 p-4"),e(y,"class","flex flex-wrap"),e(v,"class","container mb-10 p-5"),e(C,"class","text-3xl font-bold"),e(M,"type","search"),e(M,"class","rounded-xl text-md w-1/4 border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"),e(M,"placeholder","Search by name / code..."),e(G,"class","container mt-5"),e(R,"class","container mb-10 p-5"),e(K,"scope","col"),e(K,"class","px-3 py-3.5 text-left text-sm font-semibold text-gray-900"),e(k,"scope","col"),e(k,"class","px-3 py-3.5 text-left text-sm font-semibold text-gray-900"),e(z,"scope","col"),e(z,"class","px-3 py-3.5 text-left text-sm font-semibold text-gray-900"),e(D,"scope","col"),e(D,"class","px-3 py-3.5 text-left text-sm font-semibold text-gray-900"),e(J,"scope","col"),e(J,"class","px-3 py-3.5 text-left text-sm font-semibold text-gray-900"),e(Z,"scope","col"),e(Z,"class","px-3 py-3.5 text-left text-sm font-semibold text-gray-900"),e(U,"scope","col"),e(U,"class","px-3 py-3.5 text-left text-sm font-semibold text-gray-900"),e(Y,"scope","col"),e(Y,"class","px-3 py-3.5 text-left text-sm font-semibold text-gray-900"),e(tt,"scope","col"),e(tt,"class","px-3 py-3.5 text-left text-sm font-semibold text-gray-900"),e(O,"class","bg-gray-50"),e(vt,"class","divide-y divide-gray-200 bg-white"),e(N,"class","min-w-full divide-y divide-gray-300"),e(B,"class","overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"),e(F,"class","inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"),e(W,"class","-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"),e(V,"class","mt-8 flex flex-col"),e(Q,"class","px-4 sm:px-6 lg:px-8"),e(s,"class","p-5 mb-5 container bg-white my-5 rounded-lg shadow-xl")},m(n,S){ie(n,s,S),t(s,v),t(v,m),t(m,q),t(v,A),t(v,y),t(y,I),Pt(H,I,null),t(y,b),t(y,_),Pt(E,_,null),t(y,j),t(y,P),Pt($,P,null),t(s,ot),t(s,R),t(R,C),t(C,it),t(R,L),t(R,G),t(G,M),le(M,p[0]),t(s,st),t(s,Q),t(Q,V),t(V,W),t(W,F),t(F,B),t(B,N),t(N,O),t(O,c),t(c,K),t(K,ct),t(c,nt),t(c,k),t(k,et),t(c,at),t(c,z),t(z,dt),t(c,X),t(c,D),t(D,ft),t(c,lt),t(c,J),t(J,g),t(c,i),t(c,Z),t(Z,mt),t(c,xt),t(c,U),t(U,pt),t(c,ht),t(c,Y),t(Y,ut),t(c,_t),t(c,tt),t(tt,Tt),t(N,$t),t(N,vt);for(let x=0;x<T.length;x+=1)T[x].m(vt,null);wt=!0,Mt||(Ft=fe(M,"input",p[4]),Mt=!0)},p(n,[S]){if(S&1&&le(M,n[0]),S&2){gt=n[1];let x;for(x=0;x<gt.length;x+=1){const bt=re(n,gt,x);T[x]?T[x].p(bt,S):(T[x]=oe(bt),T[x].c(),T[x].m(vt,null))}for(;x<T.length;x+=1)T[x].d(1);T.length=gt.length}},i(n){wt||(Rt(H.$$.fragment,n),Rt(E.$$.fragment,n),Rt($.$$.fragment,n),wt=!0)},o(n){Vt(H.$$.fragment,n),Vt(E.$$.fragment,n),Vt($.$$.fragment,n),wt=!1},d(n){n&&a(s),Ot(H),Ot(E),Ot($),pe(T,n),Mt=!1,Ft()}}}function ue(p,s,v){let m,q,{data:A}=s;const I=(b=>{let _={nbRetailers:"",nbProducts:b.kpis.length,nbOffers:""},E=0;for(let P of b.kpis)E=E+P.nbRetailers;_.nbOffers=E;let j=[...new Set(b.offers.map(P=>P.retailer))];return _.nbRetailers=j.length,_})(A);function H(){m=this.value,v(0,m)}return p.$$set=b=>{"data"in b&&v(3,A=b.data)},p.$$.update=()=>{p.$$.dirty&9&&v(1,q=A.kpis.filter(b=>{var _;return((_=b==null?void 0:b.id)==null?void 0:_.indexOf(m.toLowerCase()))!=-1}))},v(0,m=""),[m,q,I,A,H]}class xe extends ce{constructor(s){super(),ne(this,s,ue,he,de,{data:3})}}export{xe as default};
