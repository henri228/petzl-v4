function noop(){}function assign(a,b){for(var c in b)a[c]=b[c];return a}function appendNode(a,b){b.appendChild(a)}function insertNode(a,b,c){b.insertBefore(a,c)}function detachNode(a){a.parentNode.removeChild(a)}function reinsertChildren(a,b){for(;a.firstChild;)b.appendChild(a.firstChild)}function destroyEach(a,b){for(var c=0;c<a.length;c+=1)a[c]&&a[c].d(b)}function createFragment(){return document.createDocumentFragment()}function createElement(a){return document.createElement(a)}function createText(a){return document.createTextNode(a)}function addListener(a,b,c){a.addEventListener(b,c,!1)}function removeListener(a,b,c){a.removeEventListener(b,c,!1)}function blankObject(){return Object.create(null)}function destroy(a){this.destroy=noop,this.fire('destroy'),this.set=noop,this._fragment.d(!1!==a),this._fragment=null,this._state={}}function _differs(c,d){return c==c?c!==d||c&&'object'==typeof c||'function'==typeof c:d==d}function fire(a,b){var c=a in this._handlers&&this._handlers[a].slice();if(c)for(var d,e=0;e<c.length;e+=1)d=c[e],d.__calling||(d.__calling=!0,d.call(this,b),d.__calling=!1)}function get(){return this._state}function init(a,b){a._handlers=blankObject(),a._bind=b._bind,a.options=b,a.root=b.root||a,a.store=a.root.store||b.store}function on(a,b){var c=this._handlers[a]||(this._handlers[a]=[]);return c.push(b),{cancel:function(){var a=c.indexOf(b);~a&&c.splice(a,1)}}}function set(a){this._set(assign({},a));this.root._lock||(this.root._lock=!0,callAll(this.root._beforecreate),callAll(this.root._oncreate),callAll(this.root._aftercreate),this.root._lock=!1)}function _set(a){var b=this._state,c={},d=!1;for(var e in a)this._differs(a[e],b[e])&&(c[e]=d=!0);d&&(this._state=assign(assign({},b),a),this._recompute(c,this._state),this._bind&&this._bind(c,this._state),this._fragment&&(this.fire('state',{changed:c,current:this._state,previous:b}),this._fragment.p(c,this._state),this.fire('update',{changed:c,current:this._state,previous:b})))}function callAll(a){for(;a&&a.length;)a.shift()()}function _mount(a,b){this._fragment[this._fragment.i?'i':'m'](a,b||null)}var proto={destroy,get,fire,on,set,_recompute:noop,_set,_mount,_differs};const isLeap=(a)=>0==a%400||0!=a%100&&0==a%4,getDaysInMonth=(a,b)=>{return 2===b?isLeap(a)?29:28:[31,-1,31,30,31,30,31,31,30,31,30,31][b-1]},getPreviousMonth=(a,b)=>1===b?{month:12,year:a-1}:{month:b-1,year:a},getNextMonth=(a,b)=>12===b?{month:1,year:a+1}:{month:b+1,year:a},getPreviousDay=(a,b,c)=>{if(1===c){const c=getPreviousMonth(a,b),d=getDaysInMonth(c.year,c.month),e=new Date(Date.UTC(c.year,c.month-1,d));return{dayInMonth:e.getUTCDate(),dayInWeek:e.getUTCDay(),month:c}}const d=new Date(Date.UTC(a,b-1,c-1));return{dayInMonth:d.getUTCDate(),dayInWeek:d.getUTCDay(),month:{month:b,year:a}}},getNextDay=(a,b,c)=>{if(((a,b,c)=>getDaysInMonth(a,b)===c)(a,b,c)){const c=getNextMonth(a,b),d=new Date(Date.UTC(c.year,c.month-1,1));return{dayInMonth:d.getUTCDate(),dayInWeek:d.getUTCDay(),month:c}}const d=new Date(Date.UTC(a,b-1,c+1));return{dayInMonth:d.getUTCDate(),dayInWeek:d.getUTCDay(),month:{month:b,year:a}}};function calendarMonth(a,b,c=0){if(a=parseInt(a,10),b=parseInt(b,10),c=parseInt(c,10),!a||isNaN(a)||1900>a||2100<a)throw Error('Wrong year. Use number from 1900 to 2100');if(!b||isNaN(b)||1>b||12<b)throw Error('Wrong month. Use number from 1 to 12');if(!c&&0!==c||isNaN(c)||0>c||6<c)throw Error('Wrong start of the week. Use number from 0 to 6');const d=new Date(Date.UTC(a,b-1,1));let e={dayInMonth:d.getUTCDate(),dayInWeek:d.getUTCDay(),month:{month:b,year:a}};if(e.dayInWeek!==c){let a=getPreviousDay(e.month.year,e.month.month,e.dayInMonth);for(;a.dayInWeek!==c;)a=getPreviousDay(a.month.year,a.month.month,a.dayInMonth);e=a}const f=7,g=[];for(let d=e;g.length<f*6;)g.push(d),d=getNextDay(d.month.year,d.month.month,d.dayInMonth);return[g.slice(0*f,1*f),g.slice(1*f,2*f),g.slice(2*f,3*f),g.slice(3*f,4*f),g.slice(4*f,5*f),g.slice(5*f,6*f)]}const isCurrentMonth=(a,b)=>a.month.month===b,isWeekend=(a)=>6===a.dayInWeek||0===a.dayInWeek,isToday=(a,b)=>a.dayInMonth===b.getDate()&&a.month.month===b.getMonth()+1&&a.month.year===b.getFullYear(),isSelected=(a,{day:b,year:c,month:d})=>b===a.dayInMonth&&d===a.month.month&&c===a.month.year,dayClass=(a,b,c,d)=>{const e=['day'];return isWeekend(b)&&e.push('weekend'),isToday(b,new Date)&&e.push('today'),e.push(isCurrentMonth(b,c)?'current-month':'other-month'),a&&isSelected(b,a)&&e.push('selected'),d&&d(new Date(b.month.year,b.month.month-1,b.dayInMonth).getTime())&&e.push('disabled'),e},weekClass=(a,b)=>a.every((a)=>!isCurrentMonth(a,b))?['week','other-month']:['week'],monthName=(a,b,c='en-US')=>new Date(a,b-1).toLocaleString(c,{month:'long'}),dayNames=(a,b='en-US')=>{const c=[...Array(7).keys()].map((a)=>new Date(2017,9,a+1).toLocaleString(b,{weekday:'long'}).slice(0,2));for(let d=6;d>6-a;d--){const a=c.shift();a&&c.push(a)}return c},dayClass$1=(a,b,c,d,e,f)=>{const g=dayClass(void 0,a,b,f);if(!d)return g;if((isSelected(a,d)||e&&isSelected(a,e))&&g.push('selected'),c||e){const b=Date.UTC(a.month.year,a.month.month-1,a.dayInMonth),f=Date.UTC(d.year,d.month-1,d.day),h=e?Date.UTC(e.year,e.month-1,e.day):c?Date.UTC(c.month.year,c.month.month-1,c.dayInMonth):void 0;f&&h&&(b>=f&&b<=h||b<=f&&b>=h)&&(g.push('in-range'),g.push('override'))}return g},selectDay=(a,b,c)=>{const{month:d,dayInMonth:e}=a,f=[];if(!b)f.push({action:'set',payload:{rangeStart:{day:e,month:d.month,year:d.year}}});else if(!c){f.push({action:'set',payload:{hoverDay:void 0,rangeEnd:{day:e,month:d.month,year:d.year}}});const a={day:b.day,month:b.month,year:b.year},c={day:e,month:d.month,year:d.year},g=Date.UTC(a.year,a.month-1,a.day),h=Date.UTC(c.year,c.month-1,c.day);f.push({action:'fire',eventName:'selectedRange',payload:g<h?[a,c]:[c,a]})}else b&&c&&f.push({action:'set',payload:{rangeEnd:void 0,rangeStart:{day:e,month:d.month,year:d.year}}});return f},chromeBordersFix=(a)=>{for(let b of a)b.style.borderSpacing='0px'===b.style.borderSpacing?'':'0px'};var methods={back(a,b){this.set(getPreviousMonth(a,b)),chromeBordersFix(this.root.options.target.getElementsByClassName('weeks'))},forward(a,b){this.set(getNextMonth(a,b)),chromeBordersFix(this.root.options.target.getElementsByClassName('weeks'))}};function create_main_fragment(a,b){function c(){a.back(b.year,b.month)}function d(){a.forward(b.year,b.month)}var e,f,g,h,i,j,k,l=a._slotted.default;return{c(){e=createElement('div'),f=createElement('div'),g=createElement('button'),g.innerHTML='<svg viewBox="0 0 1000 1000"><path d="M336.2 274.5l-210.1 210h805.4c13 0 23 10 23 23s-10 23-23 23H126.1l210.1 210.1c11 11 11 21 0 32-5 5-10 7-16 7s-11-2-16-7l-249.1-249c-11-11-11-21 0-32l249.1-249.1c21-21.1 53 10.9 32 32z"></path>\n      </svg>',h=createText('\n    '),i=createElement('button'),i.innerHTML='<svg viewBox="0 0 1000 1000"><path d="M694.4 242.4l249.1 249.1c11 11 11 21 0 32L694.4 772.7c-5 5-10 7-16 7s-11-2-16-7c-11-11-11-21 0-32l210.1-210.1H67.1c-13 0-23-10-23-23s10-23 23-23h805.4L662.4 274.5c-21-21.1 11-53.1 32-32.1z"></path>\n      </svg>',j=createText('\n\n  '),k=createElement('div'),addListener(g,'click',c),g.className='pointer button',addListener(i,'click',d),i.className='pointer button',f.className='flex between',k.className='flex slot',e.className='wrapper'},m(a,b){insertNode(e,a,b),appendNode(f,e),appendNode(g,f),appendNode(h,f),appendNode(i,f),appendNode(j,e),appendNode(k,e),l&&appendNode(l,k)},p(a,c){b=c},d(a){a&&detachNode(e),removeListener(g,'click',c),removeListener(i,'click',d),l&&reinsertChildren(k,l)}}}function Wrapper(a){init(this,a),this._state=assign({},a.data),this._slotted=a.slots||{},this.slots={},this._fragment=create_main_fragment(this,this._state),a.target&&(this._fragment.c(),this._mount(a.target,a.anchor))}assign(Wrapper.prototype,proto),assign(Wrapper.prototype,methods);function monthName_1({year:a,month:b,locale:c,nextMonth:d}){if(d){const d=getNextMonth(a,b);return monthName(d.year,d.month,c)}return monthName(a,b,c)}function dayNames_1({startOfTheWeek:a,locale:b}){return dayNames(a,b)}function create_main_fragment$1(a,b){for(var c,d,e,f,g,h,j,k,l=b.dayNames,m=[],n=0;n<l.length;n+=1)m[n]=create_each_block(a,get_each_context(b,l,n));return{c(){c=createElement('caption'),d=createElement('span'),e=createText(b.monthName),f=createText('\n  '),g=createElement('span'),h=createText(b.year),j=createText('\n'),k=createElement('tr');for(var a=0;a<m.length;a+=1)m[a].c();d.className='month-name',g.className='year',c.className='caption svelte-tuweff',k.className='header'},m(a,b){insertNode(c,a,b),appendNode(d,c),appendNode(e,d),appendNode(f,c),appendNode(g,c),appendNode(h,g),insertNode(j,a,b),insertNode(k,a,b);for(var l=0;l<m.length;l+=1)m[l].m(k,null)},p(b,c){if(b.monthName&&(e.data=c.monthName),b.year&&(h.data=c.year),b.dayNames){l=c.dayNames;for(var d=0;d<l.length;d+=1){const e=get_each_context(c,l,d);m[d]?m[d].p(b,e):(m[d]=create_each_block(a,e),m[d].c(),m[d].m(k,null))}for(;d<m.length;d+=1)m[d].d(1);m.length=l.length}},d(a){a&&(detachNode(c),detachNode(j),detachNode(k)),destroyEach(m,a)}}}function create_each_block(a,b){var c,d,e=b.day;return{c(){c=createElement('th'),d=createText(e),c.className='day-name'},m(a,b){insertNode(c,a,b),appendNode(d,c)},p(a,b){a.dayNames&&e!==(e=b.day)&&(d.data=e)},d(a){a&&detachNode(c)}}}function get_each_context(a,b,c){const d=Object.create(a);return d.day=b[c],d.each_value=b,d.day_index=c,d}function Header(a){init(this,a),this._state=assign({},a.data),this._recompute({year:1,month:1,locale:1,nextMonth:1,startOfTheWeek:1},this._state),this._fragment=create_main_fragment$1(this,this._state),a.target&&(this._fragment.c(),this._mount(a.target,a.anchor))}assign(Header.prototype,proto),Header.prototype._recompute=function(a,b){(a.year||a.month||a.locale||a.nextMonth)&&this._differs(b.monthName,b.monthName=monthName_1(b))&&(a.monthName=!0),(a.startOfTheWeek||a.locale)&&this._differs(b.dayNames,b.dayNames=dayNames_1(b))&&(a.dayNames=!0)};function nextMonth({year:a,month:b}){return getNextMonth(a,b)}function calendarMonth_1({year:a,month:b,startOfTheWeek:c}){return calendarMonth(a,b,c)}function nextCalendarMonth({year:a,month:b,startOfTheWeek:c}){const d=getNextMonth(a,b);return calendarMonth(d.year,d.month,c)}function data(){const a=new Date;return{year:a.getFullYear(),month:a.getMonth()+1,hoverDay:void 0}}var methods$1={selectDay(a){const b=selectDay(a,this.get().rangeStart,this.get().rangeEnd);for(const{action:c,payload:d,eventName:e}of b)'fire'===c?this.fire(e,d):this[c](d)},setHoverDay(a,b,c){a&&!b&&this.set({hoverDay:c})},keydown(a){'Escape'===a.key&&this.set({rangeStart:void 0,rangeEnd:void 0,hoverDay:void 0})}};function create_main_fragment$2(a,b){function c(b){a.keydown(b)}var d,e,f,g,h,j,k,l={};window.addEventListener('keydown',c);for(var m={year:b.year,month:b.month,locale:b.locale,startOfTheWeek:b.startOfTheWeek},n=new Header({root:a.root,data:m}),o=b.calendarMonth,p=[],q=0;q<o.length;q+=1)p[q]=create_each_block$1(a,get_each_context$1(b,o,q));for(var i={year:b.year,month:b.month,nextMonth:'true',locale:b.locale,startOfTheWeek:b.startOfTheWeek},r=new Header({root:a.root,data:i}),s=b.nextCalendarMonth,t=[],q=0;q<s.length;q+=1)t[q]=create_each_block_2(a,get_each_1_context(b,s,q));var u={};'year'in b&&(u.year=b.year,l.year=!0),'month'in b&&(u.month=b.month,l.month=!0);var v=new Wrapper({root:a.root,slots:{default:createFragment()},data:u,_bind:function(b,c){var d={};!l.year&&b.year&&(d.year=c.year),!l.month&&b.month&&(d.month=c.month),a._set(d),l={}}});return a.root._beforecreate.push(function(){v._bind({year:1,month:1},v.get())}),{c(){d=createText('\n  '),e=createElement('table'),n._fragment.c(),f=createText('\n    ');for(var a=0;a<p.length;a+=1)p[a].c();g=createText('\n\n  '),h=createElement('table'),r._fragment.c(),j=createText('\n    ');for(var a=0;a<t.length;a+=1)t[a].c();k=createText('\n'),v._fragment.c(),e.className='weeks',h.className='weeks weeks-next-month svelte-1h9ugq0'},m(a,b){appendNode(d,v._slotted.default),appendNode(e,v._slotted.default),n._mount(e,null),appendNode(f,e);for(var c=0;c<p.length;c+=1)p[c].m(e,null);appendNode(g,v._slotted.default),appendNode(h,v._slotted.default),r._mount(h,null),appendNode(j,h);for(var c=0;c<t.length;c+=1)t[c].m(h,null);appendNode(k,v._slotted.default),v._mount(a,b)},p(c,d){b=d;var f={};if(c.year&&(f.year=b.year),c.month&&(f.month=b.month),c.locale&&(f.locale=b.locale),c.startOfTheWeek&&(f.startOfTheWeek=b.startOfTheWeek),n._set(f),c.calendarMonth||c.month||c.hoverDay||c.rangeStart||c.rangeEnd||c.disableOnDay){o=b.calendarMonth;for(var g=0;g<o.length;g+=1){const d=get_each_context$1(b,o,g);p[g]?p[g].p(c,d):(p[g]=create_each_block$1(a,d),p[g].c(),p[g].m(e,null))}for(;g<p.length;g+=1)p[g].d(1);p.length=o.length}var i={};if(c.year&&(i.year=b.year),c.month&&(i.month=b.month),c.locale&&(i.locale=b.locale),c.startOfTheWeek&&(i.startOfTheWeek=b.startOfTheWeek),r._set(i),c.nextCalendarMonth||c.nextMonth||c.hoverDay||c.rangeStart||c.rangeEnd||c.disableOnDay){s=b.nextCalendarMonth;for(var g=0;g<s.length;g+=1){const d=get_each_1_context(b,s,g);t[g]?t[g].p(c,d):(t[g]=create_each_block_2(a,d),t[g].c(),t[g].m(h,null))}for(;g<t.length;g+=1)t[g].d(1);t.length=s.length}var j={};!l.year&&c.year&&(j.year=b.year,l.year=!0),!l.month&&c.month&&(j.month=b.month,l.month=!0),v._set(j),l={}},d(a){window.removeEventListener('keydown',c),n.destroy(),destroyEach(p,a),r.destroy(),destroyEach(t,a),v.destroy(a)}}}function create_each_block$1(a,b){for(var c,d,e=b.week,f=[],g=0;g<e.length;g+=1)f[g]=create_each_block_1(a,get_each_context_1(b,e,g));return{c(){c=createElement('tr');for(var a=0;a<f.length;a+=1)f[a].c();c.className=d=''+weekClass(b.week,b.month).join(' ')+' svelte-1h9ugq0'},m(a,b){insertNode(c,a,b);for(var d=0;d<f.length;d+=1)f[d].m(c,null)},p(b,g){if(b.calendarMonth||b.month||b.hoverDay||b.rangeStart||b.rangeEnd||b.disableOnDay){e=g.week;for(var h=0;h<e.length;h+=1){const d=get_each_context_1(g,e,h);f[h]?f[h].p(b,d):(f[h]=create_each_block_1(a,d),f[h].c(),f[h].m(c,null))}for(;h<f.length;h+=1)f[h].d(1);f.length=e.length}(b.calendarMonth||b.month)&&d!==(d=''+weekClass(g.week,g.month).join(' ')+' svelte-1h9ugq0')&&(c.className=d)},d(a){a&&detachNode(c),destroyEach(f,a)}}}function create_each_block_1(a,b){var c,d,e,f=b.weekDay.dayInMonth;return{c(){c=createElement('td'),d=createText(f),c._svelte={component:a,ctx:b},addListener(c,'click',click_handler),addListener(c,'mouseover',mouseover_handler),c.className=e=''+dayClass$1(b.weekDay,b.month,b.hoverDay,b.rangeStart,b.rangeEnd,b.disableOnDay).join(' ')+' svelte-1h9ugq0'},m(a,b){insertNode(c,a,b),appendNode(d,c)},p(a,b){a.calendarMonth&&f!==(f=b.weekDay.dayInMonth)&&(d.data=f),c._svelte.ctx=b,(a.calendarMonth||a.month||a.hoverDay||a.rangeStart||a.rangeEnd||a.disableOnDay)&&e!==(e=''+dayClass$1(b.weekDay,b.month,b.hoverDay,b.rangeStart,b.rangeEnd,b.disableOnDay).join(' ')+' svelte-1h9ugq0')&&(c.className=e)},d(a){a&&detachNode(c),removeListener(c,'click',click_handler),removeListener(c,'mouseover',mouseover_handler)}}}function create_each_block_2(a,b){for(var c,d,e=b.week,f=[],g=0;g<e.length;g+=1)f[g]=create_each_block_3(a,get_each_context_2(b,e,g));return{c(){c=createElement('tr');for(var a=0;a<f.length;a+=1)f[a].c();c.className=d=''+weekClass(b.week,b.nextMonth.month).join(' ')+' svelte-1h9ugq0'},m(a,b){insertNode(c,a,b);for(var d=0;d<f.length;d+=1)f[d].m(c,null)},p(b,g){if(b.nextCalendarMonth||b.nextMonth||b.hoverDay||b.rangeStart||b.rangeEnd||b.disableOnDay){e=g.week;for(var h=0;h<e.length;h+=1){const d=get_each_context_2(g,e,h);f[h]?f[h].p(b,d):(f[h]=create_each_block_3(a,d),f[h].c(),f[h].m(c,null))}for(;h<f.length;h+=1)f[h].d(1);f.length=e.length}(b.nextCalendarMonth||b.nextMonth)&&d!==(d=''+weekClass(g.week,g.nextMonth.month).join(' ')+' svelte-1h9ugq0')&&(c.className=d)},d(a){a&&detachNode(c),destroyEach(f,a)}}}function create_each_block_3(a,b){var c,d,e,f=b.weekDay.dayInMonth;return{c(){c=createElement('td'),d=createText(f),c._svelte={component:a,ctx:b},addListener(c,'click',click_handler_1),addListener(c,'mouseover',mouseover_handler_1),c.className=e=''+dayClass$1(b.weekDay,b.nextMonth.month,b.hoverDay,b.rangeStart,b.rangeEnd,b.disableOnDay).join(' ')+' svelte-1h9ugq0'},m(a,b){insertNode(c,a,b),appendNode(d,c)},p(a,b){a.nextCalendarMonth&&f!==(f=b.weekDay.dayInMonth)&&(d.data=f),c._svelte.ctx=b,(a.nextCalendarMonth||a.nextMonth||a.hoverDay||a.rangeStart||a.rangeEnd||a.disableOnDay)&&e!==(e=''+dayClass$1(b.weekDay,b.nextMonth.month,b.hoverDay,b.rangeStart,b.rangeEnd,b.disableOnDay).join(' ')+' svelte-1h9ugq0')&&(c.className=e)},d(a){a&&detachNode(c),removeListener(c,'click',click_handler_1),removeListener(c,'mouseover',mouseover_handler_1)}}}function get_each_context$1(a,b,c){const d=Object.create(a);return d.week=b[c],d.each_value=b,d.week_index=c,d}function get_each_context_1(a,b,c){const d=Object.create(a);return d.weekDay=b[c],d.each_value_1=b,d.weekDay_index=c,d}function click_handler(){const{component:a,ctx:b}=this._svelte;a.selectDay(b.weekDay)}function mouseover_handler(){const{component:a,ctx:b}=this._svelte;a.setHoverDay(b.rangeStart,b.rangeEnd,b.weekDay)}function get_each_1_context(a,b,c){const d=Object.create(a);return d.week=b[c],d.each_value_2=b,d.week_index_1=c,d}function get_each_context_2(a,b,c){const d=Object.create(a);return d.weekDay=b[c],d.each_value_3=b,d.weekDay_index_1=c,d}function click_handler_1(){const{component:a,ctx:b}=this._svelte;a.selectDay(b.weekDay)}function mouseover_handler_1(){const{component:a,ctx:b}=this._svelte;a.setHoverDay(b.rangeStart,b.rangeEnd,b.weekDay)}function RangePicker(a){init(this,a),this._state=assign(data(),a.data),this._recompute({year:1,month:1,startOfTheWeek:1},this._state),a.root||(this._oncreate=[],this._beforecreate=[],this._aftercreate=[]),this._fragment=create_main_fragment$2(this,this._state),a.target&&(this._fragment.c(),this._mount(a.target,a.anchor),this._lock=!0,callAll(this._beforecreate),callAll(this._oncreate),callAll(this._aftercreate),this._lock=!1)}assign(RangePicker.prototype,proto),assign(RangePicker.prototype,methods$1),RangePicker.prototype._recompute=function(a,b){(a.year||a.month)&&this._differs(b.nextMonth,b.nextMonth=nextMonth(b))&&(a.nextMonth=!0),(a.year||a.month||a.startOfTheWeek)&&(this._differs(b.calendarMonth,b.calendarMonth=calendarMonth_1(b))&&(a.calendarMonth=!0),this._differs(b.nextCalendarMonth,b.nextCalendarMonth=nextCalendarMonth(b))&&(a.nextCalendarMonth=!0))};export default RangePicker;
